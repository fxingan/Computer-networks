# 第1次书面作业

2113419  张昊星

------

## 习题1（50分）

网络结构如下图所示，主机A与主机B之间通过3段链路和2台转发设备（R1与R2）进行连接，每条链路的长度和传输速率在图中标出，R1与R2采用存储转发机制，主机A向主机B发送一个长度为6000字节的报文。设电磁波传播速度为$2×10^{8}$米/秒，忽略报文在R1与R2中路由决策与排队的延时。请回答以下3个问题：

（1）如果采用报文交换，请计算报文传输的最小端到端延时（从主机A传输报文第一位开始，到主机B接收到报文最后一位为止所用的时间）（15分）

（2）如果将报文分成4个分组依次传输，请计算完成报文传输的最小端到端延时（忽略报文封装成分组的开销）（15分）

（3）在统计多路复用机制中，端到端延时具有不确定性，请简要分析影响端到端延时的主要因素（20分）

![](C:\Users\LEGION\AppData\Roaming\Typora\typora-user-images\image-20231204171831116.png)



#### (1) 报文交换情况下的端到端延时

##### 从主机A到R1的传输延迟：

传输延迟=6000 字节/100 Mbps=$4.8×10^{-4}$ 秒

##### 从主机A到R1的传播延迟：

传播延迟=1 千米/ $2×10^{8}$ 米/秒=$5×10^{−6}$ 秒

##### 从R1到R2的传输延迟：

传输延迟=6000 字节/1 Gbps=$4.8×10^{-5}$ 秒

##### 从R1到R2的传播延迟：

传播延迟=20 千米/ $2×10^{8}$ 米/秒=$1×10^{−4}$ 秒

##### 从R2到主机B的传输延迟：

传输延迟=6000 字节/100 Mbps=$4.8×10^{-4}$ 秒

##### 从R2到主机B的传播延迟：

传播延迟=0.5 千米/ $2×10^{8}$ 米/秒=$2.5×10^{−6}$ 秒

##### 端到端延时总和：

端到端延时=$4.8×10^{-4}$秒+$5×10^{−6}$秒+$4.8×10^{-5}$ 秒+$1×10^{−4}$ 秒+$4.8×10^{-4}$秒+$2.5×10^{−6}$ 秒=$1.1155×10^{−3}$秒

#### (2) 报文分成4个分组情况下的端到端延时

当将报文分成4个分组依次传输时，计算每个分组的传输延迟和传播延迟，并将它们逐个相加得出总的端到端延迟。

首先，将报文长度平均分成4个分组：每个分组长度为 6000 字节 / 4 = 1500 字节。

#### 计算每个分组的传输延迟和传播延迟

##### 从主机A到R1的传输延迟：

传输延迟=1500 字节/100 Mbps=$1.2×10^{-4}$ 秒

##### 从主机A到R1的传播延迟：

传播延迟=1 千米/ $2×10^{8}$ 米/秒=$5×10^{−6}$ 秒

##### 从R1到R2的传输延迟：

传输延迟=1500 字节/1 Gbps=$1.2×10^{-5}$ 秒

##### 从R1到R2的传播延迟：

传播延迟=20 千米/ $2×10^{8}$ 米/秒=$1×10^{−4}$ 秒

##### 从R2到主机B的传输延迟：

传输延迟=1500 字节/100 Mbps=$1.2×10^{-4}$ 秒

##### 从R2到主机B的传播延迟：

传播延迟=0.5 千米/ $2×10^{8}$ 米/秒=$2.5×10^{−6}$ 秒

##### 端到端延时总和：

端到端延时=($1.2×10^{-4}$秒+$5×10^{−6}$秒+$1.2×10^{-5}$ 秒+$1×10^{−4}$ 秒+$1.2×10^{-4}$秒+$2.5×10^{−6}$ 秒)×4=$1.438×10^{−3}$秒

#### (3) 影响端到端延时的主要因素

在统计多路复用机制中，影响端到端延时的主要因素包括：

1. **传输速率：** 较低的传输速率会导致较高的传输延迟，因为更长的时间需要传输相同长度的报文或分组。
2. **链路长度：** 链路越长，传播延迟越大。即使传输速率很高，但如果链路很长，数据在传播过程中也需要较长的时间。
3. **传播速度：** 电磁波在媒介中的传播速度是一个固定值，不易改变。较高的传播速度会减少传播延迟。
4. **多路复用和网络拥塞：** 当多个数据流共享同一条链路时，可能发生拥塞。网络拥塞会增加排队延迟，导致数据包等待发送的时间增加，从而增加了整体的端到端延迟。
5. **路由器或交换机处理时间：** 路由器或交换机在转发数据包时会有一定的处理时间，这也会对整体延迟产生影响。
6. **分组大小和分割策略：** 分组大小的选择和报文的分割策略会影响传输延迟。较大的分组可能导致更高的传输延迟，但在网络中减少了头部开销；而较小的分组可能减少传输延迟，但会增加网络开销。

## 习题2（50分）

浏览器访问Web服务器的报文交互过程如下图所示。请回答以下4个问题：

（1）浏览器与Web服务器所在主机的IP地址分别是什么？（8分）

（2）报文1～3的整体用途是什么？每个报文的具体用途？（8分）

（3）图中哪些报文是HTTP请求报文？每个报文的具体用途？（8分）

（4）使用Windows命令行模式提供的nslookup命令查询www.nankai.edu.cn的IP地址，给出结果截图，并对返回的结果进行解释。（26分）

![](C:\Users\LEGION\AppData\Roaming\Typora\typora-user-images\image-20231204171853364.png)

（1）

浏览器：202.60.32.102

web服务器：59.1.16.8

（2）TCP三次握手过程 

1：第一次握手：客户端发送初始序号x和syn=1请求标志，服务器知道客户端发送，自己接收正常。

2：第二次握手：服务器发送请求标志syn，发送确认标志ACK=1，发送自己的序号seq=y，发送客户 端的确认序号ack=x+1，客户端知道自己发送、接收正常，服务器接收、发送正常。

3：第三次握手：客户端发送ACK确认号，发送自己的序号seq=x+1，发送对方的确认号ack=y+1，服 务器知道客户端发送，接收正常，自己接收，发送也正常。

（3）4和9

浏览器客户端向服务器请求传输超文本到本地的HTTP报文，请求方式为GET，协议名称及版本号是HTTP 1.1 。

4：请求html文件。

9：请求jpg文件。

（4）

![image-20231203181012661](C:\Users\LEGION\AppData\Roaming\Typora\typora-user-images\image-20231203181012661.png)

服务器：`41.45.30.222.in-addr.arpa` 是一个反向域名，其格式是将 IP 地址按照逆序写入，并以 `.in-addr.arpa` 结尾。这是DNS服务器名称。

Address：`222.30.45.41` 是一个IPv4地址。是DNS服务器的地址。

名称即为访问的网站的名称。

名称行下的 Addresses显示了两个IP地址：

- `2001:250:401:d450::190` 是一个IPv6地址。
- `222.30.45.190` 是一个IPv4地址。

这表明 `www.nankai.edu.cn` 同时支持IPv4和IPv6协议。通常情况下，网站会提供支持这两种协议的IP地址，以便更多的设备和网络可以访问和连接到该网站。